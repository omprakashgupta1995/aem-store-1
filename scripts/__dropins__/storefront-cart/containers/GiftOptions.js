/*! Copyright 2025 Adobe
All Rights Reserved. */
import{jsxs as a,Fragment as H,jsx as r}from"@dropins/tools/preact-jsx-runtime.js";import{classes as xe}from"@dropins/tools/lib.js";import{Modal as Ke,Price as le,ContentGrid as Xe,ImageSwatch as Je,Button as oe,Skeleton as Qe,SkeletonRow as Ye,Field as Z,Checkbox as ie,Input as be,TextArea as Ue,Accordion as Pe,AccordionSection as Ne,Icon as X,Card as We,ProgressSpinner as De}from"@dropins/tools/components.js";/* empty css                   */import*as J from"@dropins/tools/preact-compat.js";import{useState as b,useEffect as se,useId as Me,useCallback as j,useMemo as ne}from"@dropins/tools/preact-hooks.js";import{useText as K}from"@dropins/tools/i18n.js";import{s as A}from"../chunks/resetCart.js";import{S as Ve}from"../chunks/ChevronUp.js";import{S as $e}from"../chunks/ChevronDown.js";import{events as er}from"@dropins/tools/event-bus.js";import{u as rr}from"../chunks/updateProductsFromCart.js";import{s as tr}from"../chunks/setGiftOptionsOnCart.js";import"@dropins/tools/fetch-graphql.js";import"../chunks/persisted-data.js";import"../chunks/refreshCart.js";import"../fragments.js";import"../chunks/acdl.js";const U=e=>J.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},J.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M0.75 12C0.75 5.78421 5.78421 0.75 12 0.75C18.2158 0.75 23.25 5.78421 23.25 12C23.25 18.2158 18.2158 23.25 12 23.25C5.78421 23.25 0.75 18.2158 0.75 12Z",stroke:"currentColor"}),J.createElement("path",{vectorEffect:"non-scaling-stroke",d:"M6.75 12.762L10.2385 15.75L17.25 9",stroke:"currentColor"})),de=e=>J.createElement("svg",{width:20,height:23,viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},J.createElement("path",{d:"M10 6L10 21.5M10 6H12.25C13.4926 6 14.5 4.99264 14.5 3.75C14.5 2.50736 13.4926 1.5 12.25 1.5C11.0074 1.5 10 2.50736 10 3.75M10 6V3.75M10 6H7.75C6.50736 6 5.5 4.99264 5.5 3.75C5.5 2.50736 6.50736 1.5 7.75 1.5C8.99264 1.5 10 2.50736 10 3.75M3.25 10.75H16.75C17.9926 10.75 19 9.74264 19 8.5C19 7.25736 17.9926 6.25 16.75 6.25H3.25C2.00736 6.25 1 7.25736 1 8.5C1 9.74264 2.00736 10.75 3.25 10.75ZM4.75 21.5H15.25C16.4926 21.5 17.5 20.4926 17.5 19.25V13.25C17.5 12.0074 16.4926 11 15.25 11H4.75C3.50736 11 2.5 12.0074 2.5 13.25V19.25C2.5 20.4926 3.50736 21.5 4.75 21.5Z",stroke:"currentColor",strokeWidth:1.5})),ir=({view:e,showModal:o,productName:l,giftWrappingConfig:c,setShowModal:t,updateGiftOptions:p})=>{var O;const u=K({modalTitle:"Cart.GiftOptions.modal.title",defaultTitle:"Cart.GiftOptions.modal.defaultTitle",modalWrappingText:"Cart.GiftOptions.modal.wrappingText",modalWrappingSubText:"Cart.GiftOptions.modal.wrappingSubText",modalConfirmButton:"Cart.GiftOptions.modal.modalConfirmButton",modalCancelButton:"Cart.GiftOptions.modal.modalCancelButton"}),[n,d]=b();if(se(()=>{const i=c.find(x=>x.selected)??c[0];d(i)},[c]),!o||!c.length)return null;const m=l?`${u.modalTitle} ${l}`:u.defaultTitle;return a(Ke,{"data-testid":`gift-option-modal-${e}`,className:"cart-gift-options-view__modal",size:"medium",title:a(H,{children:[r("span",{children:m}),n&&((O=n==null?void 0:n.price)==null?void 0:O.value)>0?r(le,{amount:n.price.value,currency:n.price.currency,weight:"normal"}):null]}),centered:!0,onClose:t,children:[a("div",{className:"cart-gift-options-view__modal-content",children:[r("span",{className:"cart-gift-options-view__modal-text",children:u.modalWrappingText}),r(Xe,{emptyGridContent:r(H,{}),maxColumns:6,columnWidth:"100px",className:"cart-gift-options-view__modal-grid",children:c.map(i=>r(Je,{selected:(n==null?void 0:n.uid)===(i==null?void 0:i.uid),onValue:()=>{d(i)},name:"giftWrappingId",value:i.uid,src:i.image.url,alt:i.image.design,label:i.image.design,"data-testid":`gift-option-modal-image-${i.uid}`,className:"cart-gift-options-view__modal-grid-item"},i.uid))}),r("span",{className:"cart-gift-options-view__modal-sub-text",children:n==null?void 0:n.design})]}),r(oe,{"data-testid":"gift-option-modal-confirm-button",type:"button",onClick:()=>{p("giftWrappingId",n==null?void 0:n.uid,{isGiftWrappingSelected:!0}),t()},children:u.modalConfirmButton}),r(oe,{type:"button",variant:"secondary",onClick:t,"data-testid":"gift-option-modal-cancel-button",children:u.modalCancelButton})]})},nr=()=>r(Qe,{children:r(Ye,{variant:"row",size:"small",fullWidth:!0,lines:1,multilineGap:"small"})}),or=({className:e,view:o,item:l,giftOptions:c,disabled:t,cartData:p,giftWrappingConfig:u,setShowModal:n,onInputChange:d,areGiftOptionsVisible:m})=>{var M,R,z,q;const O=Me(),i=K({customize:`Cart.GiftOptions.${o}.customize`,giftReceiptIncludedTitle:`Cart.GiftOptions.${o}.giftReceiptIncluded.title`,giftReceiptIncludedText:`Cart.GiftOptions.${o}.giftReceiptIncluded.subtitle`,printedCardIncludedTitle:`Cart.GiftOptions.${o}.printedCardIncluded.title`,printedCardIncludedText:`Cart.GiftOptions.${o}.printedCardIncluded.subtitle`,giftOptionsWrapTitle:`Cart.GiftOptions.${o}.giftOptionsWrap.title`,giftOptionsWrapText:`Cart.GiftOptions.${o}.giftOptionsWrap.subtitle`,requiredFieldError:"Cart.GiftOptions.formText.requiredFieldError"}),x=l==null?void 0:l.productGiftWrapping,N=p==null?void 0:p.cartGiftWrapping,F=o==="product"?x:N,C=F==null?void 0:F.find(k=>k.uid===c.giftWrappingId),P=(C==null?void 0:C.design)??"",g=l==null?void 0:l.giftWrappingPrice,y=P?`${i.giftOptionsWrapText} ${P}`:"",w=+(((R=(M=A.config)==null?void 0:M.printedCardPrice)==null?void 0:R.value)??0)>0?(z=A.config)==null?void 0:z.printedCardPrice:null;let v=null;g!=null&&g.value?v=g:(q=C==null?void 0:C.price)!=null&&q.value&&(v=C.price);const W=k=>k?a("span",{children:["Â (+",r(le,{amount:k.value,currency:k.currency,weight:"normal"}),")"]}):null;return a("div",{className:xe([e,[`${e}--hidden`,!m.isGiftOptionsVisible]]),children:[m.isGiftReceiptVisible?r(Z,{disabled:t,className:"cart-gift-options-view__field-gift-receipt",children:r(ie,{id:`giftReceiptIncluded-${O}`,disabled:t,name:"giftReceiptIncluded",checked:c.giftReceiptIncluded,placeholder:i.giftReceiptIncludedTitle,label:i.giftReceiptIncludedTitle,description:i.giftReceiptIncludedText,onChange:d})}):null,m.isPrintedCartVisible?r(Z,{disabled:t,className:"cart-gift-options-view__field-printed-card",children:r(ie,{id:`printedCardIncluded-${O}`,disabled:t,name:"printedCardIncluded",checked:c.printedCardIncluded,placeholder:i.printedCardIncludedTitle,label:a(H,{children:[i.printedCardIncludedTitle,W(w)]}),description:i.printedCardIncludedText,onChange:d})}):null,m.isGiftWrappingVisible?a(H,{children:[r(Z,{disabled:t,className:"cart-gift-options-view__field-gift-wrap",children:r(ie,{id:`giftOptionsWrap-${O}`,disabled:t,name:"isGiftWrappingSelected",checked:c.isGiftWrappingSelected,placeholder:i.giftOptionsWrapTitle,label:a(H,{children:[i.giftOptionsWrapTitle,W(v)]}),description:y,onChange:d})}),r(oe,{disabled:t||!u.length,type:"button","data-testid":`gift-option-customize-${o}`,variant:"tertiary",onClick:()=>n(!0),children:i.customize})]}):null]})},sr=({view:e,giftOptions:o,disabled:l,errorMessage:c,onInputChange:t,onBlur:p,isGiftMessageVisible:u})=>{const n=Me(),d=K({formTitle:`Cart.GiftOptions.${e}.formContent.formTitle`,formTo:`Cart.GiftOptions.${e}.formContent.formTo`,formFrom:`Cart.GiftOptions.${e}.formContent.formFrom`,giftMessageTitle:`Cart.GiftOptions.${e}.formContent.giftMessageTitle`,formToPlaceholder:`Cart.GiftOptions.${e}.formContent.formToPlaceholder`,formFromPlaceholder:`Cart.GiftOptions.${e}.formContent.formFromPlaceholder`,formMessagePlaceholder:`Cart.GiftOptions.${e}.formContent.formMessagePlaceholder`});return u?a(H,{children:[r("span",{children:d.formTitle}),a("div",{children:[r("span",{children:d.formTo}),r(Z,{disabled:l,error:c.recipientName,children:r(be,{id:`recipientName-${n}`,disabled:l,type:"text",name:"recipientName",value:o.recipientName,placeholder:d.formToPlaceholder,onChange:t,onBlur:p})})]}),a("div",{children:[r("span",{children:d.formFrom}),r(Z,{disabled:l,error:c.senderName,children:r(be,{id:`senderName-${n}`,disabled:l,type:"text",name:"senderName",value:o.senderName,placeholder:d.formFromPlaceholder,onChange:t,onBlur:p})})]}),a("div",{children:[r("span",{children:d.giftMessageTitle}),r(Z,{disabled:l,children:r(Ue,{id:`message-${n}`,errorMessage:c.message,disabled:l,name:"message",value:o.message,label:d.formMessagePlaceholder,onChange:t,onBlur:p})})]})]}):null},dr=({view:e,giftOptions:o,giftWrappingConfig:l,readOnlyFormOrderView:c})=>{const t=K({readOnlyProductTitle:"Cart.GiftOptions.product.readOnlyFormView.title",wrapping:"Cart.GiftOptions.product.readOnlyFormView.wrapping",recipient:"Cart.GiftOptions.product.readOnlyFormView.recipient",sender:"Cart.GiftOptions.product.readOnlyFormView.sender",message:"Cart.GiftOptions.product.readOnlyFormView.message",readOnlyOrderTitle:"Cart.GiftOptions.order.readOnlyFormView.title",readOnlyOrderGiftReceiptTitle:"Cart.GiftOptions.order.readOnlyFormView.giftReceipt",readOnlyOrderGiftReceiptText:"Cart.GiftOptions.order.readOnlyFormView.giftReceiptText",readOnlyOrderGiftPrintCardTitle:"Cart.GiftOptions.order.readOnlyFormView.printCard",readOnlyOrderGiftPrintCardText:"Cart.GiftOptions.order.readOnlyFormView.printCardText",readOnlyOrderGiftWrapTitle:"Cart.GiftOptions.order.readOnlyFormView.giftWrap",readOnlyOrderGiftWrapOptionsText:"Cart.GiftOptions.order.readOnlyFormView.giftWrapOptions",readOnlyOrderFormTitle:"Cart.GiftOptions.order.readOnlyFormView.formTitle",readOnlyOrderFormTo:"Cart.GiftOptions.order.readOnlyFormView.formTo",readOnlyOrderFormFrom:"Cart.GiftOptions.order.readOnlyFormView.formFrom",readOnlyOrderFormMessageTitle:"Cart.GiftOptions.order.readOnlyFormView.formMessageTitle"}),{recipientName:p,senderName:u,message:n,giftReceiptIncluded:d,printedCardIncluded:m,isGiftWrappingSelected:O}=o,i=l==null?void 0:l.find(({uid:g})=>g===(o==null?void 0:o.giftWrappingId)),x=!!p||!!u||!!n,N=i==null?void 0:i.design,F=d||m||(i==null?void 0:i.selected),C=[{id:1,title:t.wrapping,message:O?N:""},{id:2,title:t.recipient,message:p},{id:3,title:t.sender,message:u},{id:4,title:t.message,message:n}],P=C.every(({message:g})=>!g);if(e==="product"&&!P)return r(Pe,{"data-testid":"gift-options-product",iconClose:Ve,iconOpen:$e,actionIconPosition:"right",children:r(Ne,{title:t.readOnlyProductTitle,showIconLeft:!0,iconLeft:de,defaultOpen:!1,renderContentWhenClosed:!1,children:r("div",{children:C.filter(g=>g.message).map(g=>a("p",{children:[g.title," ",g.message]},g.id))})})});if(e==="order"&&(x||F)){const g=a("div",{className:"cart-gift-options-readonly__header",children:[r(X,{source:de,size:"24"}),r("span",{children:t.readOnlyOrderTitle})]}),y=a(H,{children:[d?a("div",{className:"cart-gift-options-readonly__checkboxes cart-gift-options-readonly__checkboxes--gift-receipt",children:[r(X,{source:U,size:"16"}),r("p",{children:t.readOnlyOrderGiftReceiptTitle}),r("p",{children:t.readOnlyOrderGiftReceiptText})]}):null,m?a("div",{className:"cart-gift-options-readonly__checkboxes cart-gift-options-readonly__checkboxes--print-card",children:[r(X,{source:U,size:"16"}),r("p",{children:t.readOnlyOrderGiftPrintCardTitle}),r("p",{children:t.readOnlyOrderGiftPrintCardText})]}):null,i!=null&&i.selected?a("div",{className:"cart-gift-options-readonly__checkboxes cart-gift-options-readonly__checkboxes--gift-wrap",children:[r(X,{source:U,size:"16"}),a("p",{children:[t.readOnlyOrderGiftWrapTitle," (+",r(le,{amount:i.price.value,currency:i.price.currency,weight:"normal"}),")"]}),r("p",{children:`${t.readOnlyOrderGiftWrapOptionsText} ${i==null?void 0:i.design}`})]}):null]}),w=x?a("div",{className:"cart-gift-options-readonly__form",children:[r("div",{children:t.readOnlyOrderFormTitle}),a("div",{children:[a("p",{children:[r("span",{children:t.readOnlyOrderFormTo}),r("span",{children:p})]}),a("p",{children:[r("span",{children:t.readOnlyOrderFormFrom}),r("span",{children:u})]})]}),a("div",{children:[r("p",{children:t.readOnlyOrderFormMessageTitle}),r("p",{children:n})]})]}):null;return a(We,{variant:c,children:[g,y,w]})}return null},lr=({item:e,view:o,loading:l,giftOptions:c,showModal:t,isEditable:p,errorsField:u,updateLoading:n,cartData:d,fieldsDisabled:m,isGiftOptionsApplied:O,giftWrappingConfig:i,readOnlyFormOrderView:x,isGiftMessageVisible:N,areGiftOptionsVisible:F,onBlur:C,setShowModal:P,updateGiftOptions:g,onInputChange:y,handleFormMouseLeave:w})=>{const v=K({accordionHeading:`Cart.GiftOptions.${o}.accordionHeading`}),W=j(M=>r(Pe,{"data-testid":"gift-options-product",iconClose:Ve,iconOpen:$e,actionIconPosition:"right",children:r(Ne,{title:a("div",{className:"cart-gift-options-view__icon--success",children:[r("span",{children:v.accordionHeading}),O?r(X,{source:U,size:"16"}):null]}),showIconLeft:!0,iconLeft:de,defaultOpen:O||M,renderContentWhenClosed:!1,children:a(H,{children:[r(or,{className:"cart-gift-options-view__top",view:o,item:e,giftOptions:c,disabled:m,onInputChange:y,cartData:d,giftWrappingConfig:i,setShowModal:P,areGiftOptionsVisible:F}),r("form",{className:"cart-gift-options-view__footer",onMouseLeave:w,children:r(sr,{view:o,giftOptions:c,disabled:m,errorMessage:u,onInputChange:y,onBlur:C,isGiftMessageVisible:N})})]})})}),[o,e,d,v,u,c,m,i,F,O,N,C,P,y,w]);return!F.isGiftOptionsVisible&&!N?null:a("div",{id:"cart-gift-options-view",className:xe(["cart-gift-options-view",`cart-gift-options-view--${o}`,["cart-gift-options-view--loading",n]]),children:[n?r(De,{className:"cart-gift-options-view__spinner"}):null,l?r(nr,{}):a(H,{children:[p?null:r("div",{className:"cart-gift-options-view--readonly",children:r(dr,{view:o,giftOptions:c,giftWrappingConfig:i,readOnlyFormOrderView:x})}),r(ir,{view:o,productName:e&&"name"in e?e==null?void 0:e.name:"",showModal:t,giftWrappingConfig:i,setShowModal:()=>P(!1),updateGiftOptions:g}),o==="product"&&p?W(!1):null,o==="order"&&p?r(We,{variant:"secondary",children:W(!0)}):null]})]})},Y={recipientName:"",senderName:"",message:""},cr={giftReceiptIncluded:!1,printedCardIncluded:!1,isGiftWrappingSelected:!1},Re=(e,o)=>{var c,t;if(!o)return!!((c=A.config)!=null&&c.allowGiftMessageOnOrder);const l=((t=A.config)==null?void 0:t.allowGiftMessageOnOrderItems)??!1;return typeof(e==null?void 0:e.giftMessageAvailable)=="boolean"?e==null?void 0:e.giftMessageAvailable:l},ar=(e,o)=>{const{allowGiftWrappingOnOrder:l,allowGiftWrappingOnOrderItems:c,allowGiftMessageOnOrder:t,allowGiftMessageOnOrderItems:p,allowGiftReceipt:u,allowPrintedCard:n}=A.config||{},d=!p&&!c&&!Re(o,!0),m=!l&&!t&&!u&&!n;return!!(e==="product"&&d||e==="order"&&m)},fr=({item:e,view:o,dataSource:l,initialLoading:c,handleItemsLoading:t,handleItemsError:p,onItemUpdate:u,onGiftOptionsChange:n})=>{var ae,fe,pe,ue,ge,me;const d=o==="product",m=K({requiredFieldError:"Cart.GiftOptions.formText.requiredFieldError"}),[O,i]=b(()=>c),[x,N]=b({isGiftReceiptVisible:!0,isPrintedCartVisible:!0,isGiftWrappingVisible:!0,isGiftOptionsVisible:!0}),[F,C]=b(!0),[P,g]=b(!1),[y,w]=b(!1),[v,W]=b(!1),[M,R]=b(!1),[z,q]=b(!1),[k,ke]=b([]),[h,Se]=b(null),[Ie,D]=b(Y),[G,ce]=b(()=>({giftWrappingId:"",...Y,...cr})),ee=((ae=G.recipientName)==null?void 0:ae.trim())&&((fe=G.senderName)==null?void 0:fe.trim())&&((pe=G.message)==null?void 0:pe.trim()),Q=!((ue=G.recipientName)!=null&&ue.trim())&&!((ge=G.senderName)!=null&&ge.trim())&&!((me=G.message)!=null&&me.trim()),$=j(async s=>{switch(g(o==="order"),w(!0),o){case"product":{"uid"in e&&(t==null||t(e.uid,!0),p==null||p(e.uid));const{recipientName:f,senderName:_,message:T,giftWrappingId:B,isGiftWrappingSelected:S}=s,E={gift_message:{to:f??"",from:_??"",message:T??""},gift_wrapping_id:S?B:null};"uid"in e&&"quantity"in e&&await rr([{uid:e.uid,quantity:e.quantity,giftOptions:E}]).then(()=>{u==null||u({item:e})}).finally(()=>{t==null||t(e.uid,!1),w(!1),W(!1),g(!1)}).catch(V=>{console.warn(V)})}break;case"order":await tr(s).finally(()=>{w(!1),W(!1),g(!1)});break;default:console.error('Incorrect "view" prop value provided for GiftOptions container (storefront-cart)');break}},[p,t,e,u,o]),re=j((s,f,_={})=>{ce(T=>{const B=I=>I in T,S=I=>B(I)?T[I]:void 0;if(!(S(s)!==f||Object.keys(_).some(I=>S(I)!==_[I])))return n==null||n(T),T;const V={...T,[s]:f,..._};return!V.recipientName&&!V.senderName&&!V.message&&R(!0),(typeof f=="boolean"||["giftWrappingId","giftReceiptIncluded","printedCardIncluded"].includes(s))&&(typeof n=="function"?n(V):$(V)),W(!0),n==null||n(V),V})},[$,n]),Ae=j(async()=>{y||typeof n!="function"&&(Q&&M&&(D(Y),R(!1),await $(G)),v&&ee&&(R(!0),await $(G)))},[$,G,v,Q,M,y,n]),He=j(async s=>{if(y||typeof n=="function")return;const{name:f,value:_}=s.target;D(T=>({...T,[f]:_.trim()?"":m.requiredFieldError})),Q&&M&&(D(Y),R(!1),await $(G)),v&&ee&&await $(G)},[y,Q,M,v,ee,m,$,G,n]),Be=j(s=>{const f=s.target,_=f.name,T=f.type==="checkbox"?f.checked:f.value;re(_,T)},[re]);se(()=>{if(d)return;const s=er.on(l==="cart"?"cart/data":"order/data",f=>{var B,S;Se(f);const _=(B=f==null?void 0:f.items)==null?void 0:B.every(({giftWrappingAvailable:E})=>E),T=(S=f==null?void 0:f.cartGiftWrapping)==null?void 0:S.some(E=>E.selected);!_&&T&&$({...G,giftWrappingId:"",isGiftWrappingSelected:!1})},{eager:!0});return()=>{s==null||s.off()}},[$,l,G,d]);const te=ne(()=>{var Ge,ye,Te,Fe,we,ve;if(!h&&!e)return null;const s=d?(Ge=e==null?void 0:e.productGiftWrapping)==null?void 0:Ge.map(L=>{var _e;return{...L,price:e!=null&&e.giftWrappingPrice&&((_e=e==null?void 0:e.giftWrappingPrice)==null?void 0:_e.value)>0?e.giftWrappingPrice:L.price}}):(h==null?void 0:h.cartGiftWrapping)||[],f=s==null?void 0:s.find(L=>L.selected),_=(f==null?void 0:f.uid)??((ye=s==null?void 0:s[0])==null?void 0:ye.uid),T=!!f,B=d?e.giftMessage:h==null?void 0:h.giftMessage,S=h==null?void 0:h.printedCardIncluded,E=h==null?void 0:h.giftReceiptIncluded,V=Re(e,d),I=(Te=A.config)==null?void 0:Te.allowGiftWrappingOnOrder,qe=(Fe=A.config)==null?void 0:Fe.allowGiftReceipt,Le=(we=A.config)==null?void 0:we.allowPrintedCard,je=(ve=h==null?void 0:h.items)==null?void 0:ve.every(L=>L.giftWrappingAvailable),Ze=e==null?void 0:e.giftWrappingAvailable,Oe=d?!1:!!qe,he=d?!1:!!Le,Ce=d?!!Ze&&!!s.length:!!I&&!!s.length&&!!je;return N({isGiftReceiptVisible:Oe,isPrintedCartVisible:he,isGiftWrappingVisible:Ce,isGiftOptionsVisible:!(!Oe&&!he&&!Ce)}),C(V),{...e&&"uid"in e?{itemId:e.uid}:{},...d?{}:{printedCardIncluded:S,giftReceiptIncluded:E},...B,giftWrappingId:_,isGiftWrappingSelected:T,giftWrappingOptions:s}},[h,e,d]);se(()=>{if(!te)return;const{giftWrappingOptions:s,...f}=te;ce(f),s!=null&&s.length&&ke(s),i(!1)},[te]);const Ee=ne(()=>Object.entries(G).filter(([s])=>s!=="itemId"&&s!=="giftWrappingId").some(([,s])=>!!s),[G]),ze=ne(()=>{var s;return!O&&!!((s=A)!=null&&s.config)&&ar(o,e)},[e,O,o]);return{loading:O,giftOptions:G,showModal:z,errorsField:Ie,updateLoading:P,cartData:h,fieldsDisabled:y,isGiftOptionsApplied:Ee,giftWrappingConfig:k,setFieldsDisabled:w,handleFormMouseLeave:Ae,onInputChange:Be,updateGiftOptions:re,setShowModal:q,handleBlur:He,isGiftMessageVisible:F,areGiftOptionsVisible:x,isGiftOptionsHidden:ze}},Wr=({item:e,view:o="order",readOnlyFormOrderView:l="primary",dataSource:c="cart",isEditable:t=!0,initialLoading:p=!0,handleItemsLoading:u,handleItemsError:n,onItemUpdate:d,onGiftOptionsChange:m})=>{const{isGiftMessageVisible:O,areGiftOptionsVisible:i,loading:x,giftOptions:N,showModal:F,errorsField:C,updateLoading:P,cartData:g,isGiftOptionsApplied:y,fieldsDisabled:w,giftWrappingConfig:v,handleFormMouseLeave:W,updateGiftOptions:M,setShowModal:R,onInputChange:z,handleBlur:q,isGiftOptionsHidden:k}=fr({item:e,view:o,dataSource:c,initialLoading:p,handleItemsLoading:u,handleItemsError:n,onItemUpdate:d,onGiftOptionsChange:m});return k?null:r(lr,{item:e,view:o,loading:x,onBlur:q,giftOptions:N,showModal:F,isEditable:t,errorsField:C,setShowModal:R,updateLoading:P,updateGiftOptions:M,cartData:g,isGiftOptionsApplied:y,fieldsDisabled:w,giftWrappingConfig:v,handleFormMouseLeave:W,readOnlyFormOrderView:l,onInputChange:z,isGiftMessageVisible:O,areGiftOptionsVisible:i})};export{Wr as GiftOptions,Wr as default};
